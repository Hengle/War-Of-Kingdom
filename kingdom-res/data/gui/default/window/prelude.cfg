#textdomain wesnoth-lib
###
### Definition of the main screen for Wesnoth.
###

#define _GUI_H_SPACER WIDTH GROW_FACTOR
	[column]

		grow_factor = "{GROW_FACTOR}"

		[spacer]
			definition = "default"
			width = "{WIDTH}"
		[/spacer]

	[/column]
#enddef

#define _GUI_V_SPACER HEIGHT
	[column]

		[spacer]
			definition = "default"
			height = {HEIGHT}
		[/spacer]

	[/column]
#enddef

#define HEADER_AREA_MESSAGE
(if(screen_height < 600, ((screen_height * 30) / 100), 180))
#enddef

#define MAP_WIDTH
(if(screen_width < 800, ((screen_width * 70) / 100), 560))
#enddef

#define MAP_HEIGHT
(if(screen_height < 600, ((screen_height * 70) / 100), 420))
#enddef

[window]
	id = "prelude"
	description = "The game's prelude screen."

	[resolution]
		definition = "without_scrollbar"

		automatic_placement = "false"
		automatic_placement = "false"
		x = "((screen_width - width) / 2)"
		y = "((screen_height - height) / 2)"
		width = "(if(screen_width < 800, screen_width, 800))"
		height = "(if(screen_height < 600, screen_height, 600))"

		[tooltip]
			id = "tooltip_large"
		[/tooltip]

		[helptip]
			id = "tooltip_large"
		[/helptip]

		[grid]
			[row]
				[column]
					border = "left, right, top"
					border_size = 2
					horizontal_alignment = "left"
					[label]
						id = "title"
						definition = "title"
					[/label]
				[/column]
			[/row]
			
			[row]
				grow_factor = 1
				[column]
					horizontal_grow = "true"
					vertical_grow = "true"
					
					[grid]
						[row]
							[column]
								horizontal_grow = "true"
								vertical_alignment = "bottom"
								[drawing]
									id = "portrait"
									definition = "default"
												
									width = "(if(default_gui, 180, 120))"
									height = "(if(default_gui, 256, 170))"

									[draw]
										[image]
											name="(if(default_gui, text + '~SCALE(180, 256)', text + '~SCALE(120, 170)'))"
										[/image]
									[/draw]
								[/drawing]
							[/column]
														
							[column]
								vertical_grow = "true"
																	
								border = "left"
								border_size = 2
																	
								[image]
									definition = "default"
									label = "misc/split-v-line.png"
								[/image]
							[/column]
										
							[column]
								grow_factor = 1
								horizontal_grow = "true"
								vertical_grow = "true"
					
								[minimap]
									id = "map"
									definition = "default"
							
									# width = "(if(screen_width < 800, ((screen_width * 70) / 100), 560))"
									# height = "(if(screen_height < 600, ((screen_height * 70) / 100), 420))"	
								[/minimap]
							[/column]
						[/row]
					[/grid]
				[/column]	
			[/row]
			
			[row]
				[column]
					horizontal_grow = "true"
					vertical_grow = "true"
					
					[grid]
						[row]
							{_GUI_V_SPACER {HEADER_AREA_MESSAGE}}
							
							[column]
								grow_factor = 1
								horizontal_grow = "true"
								vertical_grow = "true"
								
								[panel]
									definition = "portrait"
									[grid]
										[row]
											[column]
												horizontal_grow = "true"
												vertical_grow = "true"
												
												[scroll_label]
													id = "msg"
													definition = "default"
												[/scroll_label]
											[/column]
										[/row]
									[/grid]
								[/panel]				
							[/column]
						[/row]
						
					[/grid]			
				[/column]

			[/row]
			
			[row]
				[column]
					horizontal_grow = "true"

					[grid]
						[row]
							{_GUI_H_SPACER 0 1}
							
							[column]
								border = "bottom"
								border_size = 4

								[button]
									id = "previous"
									definition = "default"

									label = _ "Previous"
								[/button]

							[/column]
							
							{_GUI_H_SPACER 20 0}

							[column]
								border = "bottom"
								border_size = 4

								[button]
									id = "next"
									definition = "default"

									label = _ "Next"
								[/button]

							[/column]
							
							{_GUI_H_SPACER 5 0}

						[/row]
					[/grid]

				[/column]

			[/row]

		[/grid]

	[/resolution]

[/window]

#undef _GUI_H_SPACER
#undef _GUI_V_SPACER
